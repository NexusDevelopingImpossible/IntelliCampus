<link rel="stylesheet" href="<%= assetPath('css/profile.css') %>" />
<div class="main-page">
  <div class="blur">
    <form action="/student/updateProfile" method="post" enctype="multipart/form-data">
    <main class="prof-main-container">
      <section class="info-left">
        <div class="personal-info">
          <div class="profile-header">
            <h1 class="info-hed">Personal Profile</h1>
            <span class="edit-btn"><svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" ><g><rect fill="none" height="24" width="24"/></g><g><g><g><path d="M3,17.46l0,3.04C3,20.78,3.22,21,3.5,21h3.04c0.13,0,0.26-0.05,0.35-0.15L17.81,9.94l-3.75-3.75L3.15,17.1 C3.05,17.2,3,17.32,3,17.46z"/></g><g><path d="M20.71,5.63l-2.34-2.34c-0.39-0.39-1.02-0.39-1.41,0l-1.83,1.83l3.75,3.75l1.83-1.83C21.1,6.65,21.1,6.02,20.71,5.63z"/></g></g></g></svg></span>
          </div>
          <div class="image-container">
            <img profile-img src="<%=studentdata.avatar%>" alt="" class="image" id="image" />
            <div class="upload-option">
              <label for="file-upload" class="upload-label">
                <span><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M21.02 5H19V2.98c0-.54-.44-.98-.98-.98h-.03c-.55 0-.99.44-.99.98V5h-2.01c-.54 0-.98.44-.99.98v.03c0 .55.44.99.99.99H17v2.01c0 .54.44.99.99.98h.03c.54 0 .98-.44.98-.98V7h2.02c.54 0 .98-.44.98-.98v-.04c0-.54-.44-.98-.98-.98zM16 9.01V8h-1.01c-.53 0-1.03-.21-1.41-.58-.37-.38-.58-.88-.58-1.44 0-.36.1-.69.27-.98H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8.28c-.3.17-.64.28-1.02.28-1.09-.01-1.98-.9-1.98-1.99zM15.96 19H6c-.41 0-.65-.47-.4-.8l1.98-2.63c.21-.28.62-.26.82.02L10 18l2.61-3.48c.2-.26.59-.27.79-.01l2.95 3.68c.26.33.03.81-.39.81z"/></svg></span>
                <input type="file" id="file-upload" class="file-input" name="avatar" accept="image/*" disabled>
              </label>
            </div>
          </div>
          <p class="std-name"><%=student.name%></p>
          <p class="std-reg-no"><%=student.username%></p>
          <input type="hidden" name="regnNo" value="<%=student.username%>" />
          <%console.log(student.deactivatestate)%>
          <%if(!student.deactivatestate){%>
          <div class="std-details-1">
            <p><span>Course:</span><%=student.course%> (<%=student.department%>)</p>
            <p><span>Semester:</span> <%=student.semester%></p>
            <p><span>Section:</span> <%=student.section%></p>
            <p><span>TG Name:</span> Diganta Baruah (449)</p>
            <p><span>TG No:</span> 7076321457</p>
          </div>
          <%}else{%>
            <div class="std-details-1">
            <p><span>Account:</span>Deactivated</p>
          </div>
          <%}%>
          <div class="std-details-2">
            <p>
              <span>DOB:</span>
              <input
                name="DOB"
                class="input-read"
                type="date"
                value="<%=studentdata.DOB%>"
                readonly
              />
            </p>
            <p>
              <span>Gender:</span>
              <select name="gender" class="input-read" value="<%=studentdata.gender%>" disabled>
                <option value="<%=studentdata.gender%>"><%=studentdata.gender%></option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
              </select>
            </p>
            <p>
              <span>Phone:</span>
              <input
                name="phoneNo"
                class="input-read"
                type="text"
                value="<%=studentdata.phoneNo%>"
                readonly
              />
            </p>
            <p>
              <span>Whatsapp:</span>
              <input
                name="phoneNoWhatsapp"
                class="input-read"
                type="text"
                value="<%=studentdata.phoneNoWhatsapp%>"
                readonly
              />
            </p>
            <p>
              <span>Email:</span>
              <input
                class="input-read"
                type="text"
                value="<%=studentdata.officialEmail%>"
                readonly
              />
            </p>
            <p>
              <span>Official Email:</span>
              <input
                name="officialEmail"
                class="input-read"
                type="text"
                value="<%=studentdata.officialEmail%>"
                readonly
              />
            </p>
            <p>
              <span>Blood Group:</span>
              <!-- <input class="input-read" type="text" value="B+" readonly /> -->
              <select name="bloodGroup" class="input-read" value="<%=studentdata.bloodGroup%>" disabled>
                <option value="<%=studentdata.bloodGroup%>"><%=studentdata.bloodGroup%></option>
                <option value="B+">B+</option>
                <option value="A+">A+</option>
                <option value="B-">B-</option>
              </select>
            </p>
            <p>
              <span>Aadhar No.:</span>
              <input
                name="aadharNo"
                class="input-read"
                type="text"
                value="<%=studentdata.aadharNo%>"
                readonly
              />
            </p>
            <p>
              <span>Category:</span>
              <!-- <input class="input-read" type="text" value="General" readonly /> -->
              <select name="category" class="input-read" value="<%=studentdata.category%>" disabled>
                <option value="<%=studentdata.category%>"><%=studentdata.category%></option>
                <option value="General">General</option>
                <option value="OBC">OBC</option>
                <option value="SC">SC</option>
                <option value="ST">ST</option>
              </select>
            </p>
            <p>
              <span>Mother Tongue:</span>
              <input name="motherTongue" class="input-read" type="text" value="<%=studentdata.motherTongue%>" readonly />
            </p>
          </div>
        </div>
      </section>
      <section class="info-right">
        <div class="info-cont">
          <div class="fees">
              <span class="info-hed-sm">Fees Pending:</span>
              <span class="input-read-bd">Rs <%=studentdata.feepending%></span>
          </div>
          <div class="cgpa-backlogs">
            <div class="cgpa">
              <span class="info-hed-sm">CGPA:</span>
              <span class="input-read-bd"><%=studentdata.cgpa%></span>
            </div>
            <div class="backlogs">
              <span class="info-hed-sm">Backlogs:</span>
              <span class="input-read-bd"><%=studentdata.backlog%></span>
            </div>
          </div>
          <div class="backlogs-subjects">
            <p class="info-sub-hed">Backlog subject List:</p>
            <div>
              <%console.log(studentdata)%>
            <%for(let i = 0; i<studentdata.backloglist.length; i++){%>
              <span class="input-read"><%=studentdata.backloglist[i]%></span>
            <%}%>
            
</div>
          </div>
         
        </div>
        <div class="parents-info info-cont">
          <h1 class="info-hed">Parent's Infromation:</h1>
          <div class="inner-cont">
            <div class="parent-details-1 parent-details">
              <div>
                <p>
                  <span class="inline-info">Father's Name:</span>
                  <input
                    name="fatherName"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.fatherName%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Occupation:</span>
                  <input
                    name="fatherOccupation"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.fatherOccupation%>"
                    readonly
                  />
                </p>
              </div>
              <div>
                <p>
                  <span class="inline-info">Mothers's Name:</span>
                  <input
                    name="motherName"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.motherName%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Occupation:</span>
                  <input
                    name="motherOccupation"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.motherOccupation%>"
                    readonly
                  />
                </p>
              </div>
            </div>
            <div class="parent-details-2 parent-details">
              <div>
                <p>
                  <span class="inline-info">Parent's PAN:</span>
                  <input
                    name="parentPAN"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.parentPAN%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Parent's Aadhar:</span>
                  <input
                    name="parentAadhar"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.parentAadhar%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Phone No:</span>
                  <input
                    name="parentPhoneNo"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.parentPhoneNo%>"
                    readonly
                  />
                </p>
              </div>
              <div>
                <p>
                  <span class="inline-info">Whatsapp No:</span>
                  <input
                    name="parentWhatsappNo"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.parentWhatsappNo%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Parent Email ID:</span>
                  <input
                    name="parentEmailId"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.parentEmailId%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Annual Income:</span>
                  <input
                    name="parentAnnualIncome"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.parentAnnualIncome%>"
                    readonly
                  />
                </p>
              </div>
            </div>
            <div class="parent-details-3 parent-details">
              <div>
                <p>
                  <span class="inline-info">Permanent Address:</span>
                  <textarea
                    name="permanentAddress"
                    class="input-read"
                    type="text"
                    value=""
                    readonly
                  ><%=studentdata.permanentAddress%></textarea>
                </p>
                <p>
                  <span class="inline-info">Correspondent Address:</span>
                  <textarea
                    name="correspondentAddress"
                    class="input-read"
                    type="text"
                    value=""
                    readonly
                  ><%=studentdata.correspondentAddress%></textarea>
                </p>
              </div>
              <div>
                <p>
                  <span class="inline-info">PIN Code:</span>
                  <input
                    name="PINCode"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.PINCode%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">State:</span>
                  <input
                    name="state"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.state%>"
                    readonly
                  />
                  
                </p>
                <p>
                  <span class="inline-info">District:</span>
                  <input
                    name="district"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.district%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">City:</span>
                  <input
                    name="city"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.city%>"
                    readonly
                  />
                </p>
             
              </div>
            </div>
            <div class="parent-details-4 parent-details">
              <p class="info-sub-hed">Local Guardian Info:</p>
              <div>
                <p>
                  <span class="inline-info">LG Present?</span>
                  <select name="LGpresent" class="input-read input-sm" disabled>
                    <option value="No">No</option>
                    <option value="Yes">Yes</option>
                  </select>
                </p>
                <p>
                  <span class="inline-info">Name:</span>
                  <input name="LGname" class="input-read" type="text" value="<%=studentdata.LGname%>" readonly />
                </p>
                <p>
                  <span class="inline-info">Contact No:</span>
                  <input name="LGcontactNo" class="input-read" type="text" value="<%=studentdata.LGcontactNo%>" readonly />
                </p>
              </div>
              <div>
                <p>
                  <span class="inline-info">Address:</span>
                  <input
                    name="LGaddress"
                    class="input-read input-addr"
                    type="text"
                    value="<%=studentdata.LGaddress%>"
                    readonly
                  />
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="tg-info parents-info info-cont">
          <h1 class="info-hed">Teacher Guardian's Information:</h1>
          <div class="inner-cont">
            <div class="parent-details-1 parent-details">
              <div>
                <p>
                  <span class="inline-info">TG Name:</span>
                  <span class="input-read tg">Srijan Dev</span>
                  </p>
                <p>
                  <span class="inline-info">Phone:</span>
                  <span class="input-read tg">8454567678</span>
                </p>
              </div>
              <div>
                <p>
                  <span class="inline-info">Whatsapp:</span>
                  <span class="input-read tg">8454567678</span>
                </p>
                <p>
                  <span class="inline-info">Email:</span>
                  <span class="input-read tg">tgkaemail@gmail.coma</span>
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="qualification-info info-cont">
          <h1 class="info-hed">Qualification Infromation:</h1>
          <div class="inner-cont">
            <div class="parent-details-2 parent-details">
              <div>
                <p>
                  <span class="inline-info">Latest Qualification:</span>
                  <input
                    name="latestQualification"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.latestQualification%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Specialization/Course:</span>
                  <input
                    name="specializationCourse"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.specializationCourse%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Board:</span>
                  <input
                    name="board"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.board%>"
                    readonly
                  />
                </p>
              </div>
              <div>
                <p>
                  <span class="inline-info">Institute name:</span>
                  <input
                    name="instituteName"
                    class="input-read institute-input"
                    type="text"
                    value="<%=studentdata.instituteName%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Year of Passing:</span>
                  <input
                    name="yearOfPassing"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.yearOfPassing%>"
                    readonly
                  />
                </p>
              </div>
            </div>
            <div class="qualification-details-2 parent-details">
              <div>
                <p>
                  <span class="inline-info">Physics:</span>
                  <input
                    name="physicsMarks"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.physicsMarks%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Chemistry:</span>
                  <input
                    name="chemistryMarks"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.chemistryMarks%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Mathematics:</span>
                  <input
                    name="mathematicsMarks"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.mathematicsMarks%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Biology:</span>
                  <input
                    name="biologyMarks"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.biologyMarks%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">English:</span>
                  <input
                    name="englishMarks"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.englishMarks%>"
                    readonly
                  />
                </p>
              </div>
              <div>
                <p>
                  <span class="inline-info">Computer Sc:</span>
                  <input
                    name="computerMarks"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.computerMarks%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Optional 1:</span>
                  <input
                    name="optionalMarks1"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.optionalMarks1%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Optional 2:</span>
                  <input
                    name="optionalMarks2"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.optionalMarks2%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Optional 3:</span>
                  <input
                    name="optionalMarks3"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.optionalMarks3%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info">Optional 4:</span>
                  <input
                    name="optionalMarks4"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.optionalMarks4%>"
                    readonly
                  />
                </p>
              </div>
            </div>
            <div class="parent-details-2 parent-details">
              <div>
                <p>
                  <span class="inline-info qualification-last-p">Total Marks:</span>
                  <input
                    name="totalMarks"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.totalMarks%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info qualification-last-p">Total Marks Obtained:</span>
                  <input
                    name="totalMarksObtained"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.totalMarksObtaineds%>"
                    readonly
                  />
                </p>
                <p>
                  <span class="inline-info qualification-last-p">Total Percentage Obtained:</span>
                  <input
                    name="totalPercentageObtained"
                    class="input-read"
                    type="text"
                    value="<%=studentdata.totalPercentageObtained%>"
                    readonly
                  />
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="upload-info info-cont">
          <h1 class="info-hed">Upload Your Files:</h1>
          <div class="inner-cont">
            <div class="file-details-1">
                  <span class="inline-info">Class X Marksheet:</span>
                <div class="custom-file-upload input-read">
                  <label>
                      <input id="select-file" type="file" name="fileexcel" disabled/>
                      <span id="file-name">Upload your file</span>
                  </label>
                  <a href="#" id="download-btn"><svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24"  viewBox="0 0 24 24" width="1.5vw" fill="#FFFFFF"><g><rect fill="none" height="24" width="24"/></g><g><path d="M16.59,9H15V4c0-0.55-0.45-1-1-1h-4C9.45,3,9,3.45,9,4v5H7.41c-0.89,0-1.34,1.08-0.71,1.71l4.59,4.59 c0.39,0.39,1.02,0.39,1.41,0l4.59-4.59C17.92,10.08,17.48,9,16.59,9z M5,19c0,0.55,0.45,1,1,1h12c0.55,0,1-0.45,1-1s-0.45-1-1-1H6 C5.45,18,5,18.45,5,19z"/></g></svg></a>
                  <span style="display: none;" class="import-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FFFFFF"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg></span>
              </div>
                
            </div>
          </div>
        </div>
      </section>
        <button id="save-btn" type="submit" class="popup-btns btn btn-full btn-medium">Save</button>
    
    </main>
  </form>
  </div>
</div>


<script src="<%= assetPath('js/profile.js') %>"></script>

<script>
  let selectFile = document.getElementById("select-file");
let fileName = document.getElementById("file-name");
let importIcon = document.querySelector(".import-icon");
let submitBtn = document.querySelector("#submit-btn");

selectFile.addEventListener("change", function (e) {
    console.log(selectFile.files[0].name);
    fileName.innerHTML = (selectFile.files[0].name).slice(0,20)+"..";

})


selectFile.addEventListener("change", function() {
if (selectFile.files.length > 0) {
importIcon.style.display = "block";
submitBtn.style.opacity = "1";
}

});

importIcon.addEventListener("mousedown", function(e) {
e.preventDefault(); // Prevents the default behavior of the click event
selectFile.value = "";
fileName.innerHTML = "Upload your file";
importIcon.style.display = "none";
submitBtn.style.opacity = "0.4";
});
</script>