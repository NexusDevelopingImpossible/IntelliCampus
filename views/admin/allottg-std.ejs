<link rel="stylesheet" href="<%= assetPath('css/admin-allottg.css') %>">


<div class="main-page">
    <div class="blur">
        <div class="main__content">
            <div class="page-heading">
                <a href="/admin/dashboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                        <path
                            d="M381-100 44-436q-9-9-13.5-20.5T26-480q0-12 4.5-23.5T44-524l337-337q21-21 51-21.5t52 21.5q21 21 21 51.5T484-758L206-480l278 278q21 21 21.5 50.5T484-100q-21 21-51.5 21T381-100Z" />
                    </svg></a>
                <h1 class="heading">Allot Tg to students</h1>
            </div>
            <div class="allot__2" id="section2">
                <div class="teacher__and__btn">
                    <div class="teacher">
                        <div class="image">
                            <img src="https://images.unsplash.com/photo-1633332755192-727a05c4013d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8dXNlcnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=600&q=60"
                                alt="">
                        </div>
                        <div class="teacher__details">
                            <h3 class="name">
                                <%=teacher.name%>
                            </h3>
                            <p class="designation">
                                <%=teacher.position%> <br> Department of <%=teacher.department%>
                            </p>
                        </div>

                    </div>
                    <div class="import-bnt">
                        <a href="..\..\data\template_tg.xlsx">
                            <div class="template-btn btn btn-outline" type="submit">Download Template</div>
                        </a>
                        <form action="/admin/addward" method="post" enctype="multipart/form-data">
                            <input type="hidden" value="<%=teacher._id%>" name="teacherid">
                            <div class="input-file">
                                <div class="custom-file-upload">
                                <label >
                                    <input id="select-file" type="file" name="fileexcel" required/>
                                    <span id="file-name">Import your file here</span>
                                </label>
                                <span style="display: none;" class="import-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FFFFFF"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/></svg></span>
                            </div>
                                <button id="submit-btn" class="submit-btn btn btn-full btn-medium">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="description">
                    <div class="description__titles">
                        <ul>
                            <li>Registration No</li>
                            <li>Student Name</li>
                            <li>Phone No</li>
                            <li>Branch</li>
                            <li>Dept</li>
                            <li>Sem</li>
                            <li>Sec</li>
                            <li></li>

                            <!-- <li>Delete</li> -->
                        </ul>
                    </div>
                    <div class="description-scroll">
                        <div class="description__list">
                            <%for(let i = 0; i<tgdata.length; i++){%>
                            <ul>
                                <li><%=tgdata[i].studentid.username%></li>
                                <li><%=tgdata[i].studentid.name%></li>
                                <li>8789334294</li>
                                <li>BTECH</li>
                                <li><%=tgdata[i].studentid.department%></li>
                                <li><%=tgdata[i].studentid.semester%></li>
                                <li><%=tgdata[i].studentid.section%></li>
                                <li><a class="del-btn" href="#">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M261-120q-24.75 0-42.375-17.625T201-180v-570h-41v-60h188v-30h264v30h188v60h-41v570q0 24-18 42t-42 18H261Zm438-630H261v570h438v-570ZM367-266h60v-399h-60v399Zm166 0h60v-399h-60v399ZM261-750v570-570Z" /></svg></a></li>
                            </ul>
                            <%}%>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    let selectFile = document.getElementById("select-file");
    let fileName = document.getElementById("file-name");
    let importIcon = document.querySelector(".import-icon");
    let submitBtn = document.querySelector("#submit-btn");

    selectFile.addEventListener("change", function (e) {
        console.log(selectFile.files[0].name);
        fileName.innerHTML = (selectFile.files[0].name).slice(0,20)+"..";

    })


selectFile.addEventListener("change", function() {
  if (selectFile.files.length > 0) {
    importIcon.style.display = "block";
    submitBtn.style.opacity = "1";
  }

});

importIcon.addEventListener("mousedown", function(e) {
  e.preventDefault(); // Prevents the default behavior of the click event
  selectFile.value = "";
  fileName.innerHTML = "Import your file here";
  importIcon.style.display = "none";
  submitBtn.style.opacity = "0.4";
});



</script>