<link rel="stylesheet" href="<%= assetPath('css/profile.css') %>" />
<link rel="stylesheet" href="<%= assetPath('css/teach-profile.css') %>" />
<div class="main-page">
  <div class="blur">
    <main class="prof-main-container">
      <form action="/teacher/updateProfile" method="post" enctype="multipart/form-data">
      <section class="info-left">
        <div class="personal-info">
          <div class="profile-header">
            <h1 class="info-hed">Personal Profile</h1>
            <span class="edit-btn"><svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" viewBox="0 0 24 24" ><g><rect fill="none" height="24" width="24"/></g><g><g><g><path d="M3,17.46l0,3.04C3,20.78,3.22,21,3.5,21h3.04c0.13,0,0.26-0.05,0.35-0.15L17.81,9.94l-3.75-3.75L3.15,17.1 C3.05,17.2,3,17.32,3,17.46z"/></g><g><path d="M20.71,5.63l-2.34-2.34c-0.39-0.39-1.02-0.39-1.41,0l-1.83,1.83l3.75,3.75l1.83-1.83C21.1,6.65,21.1,6.02,20.71,5.63z"/></g></g></g></svg></span>
          </div>
          <div class="image-container">
            <img profile-img src="<%=teacher.avatar%>" alt="Original Image" class="image" id="image" />
            <div class="upload-option">
              <label for="file-upload" class="upload-label">
                <span><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M21.02 5H19V2.98c0-.54-.44-.98-.98-.98h-.03c-.55 0-.99.44-.99.98V5h-2.01c-.54 0-.98.44-.99.98v.03c0 .55.44.99.99.99H17v2.01c0 .54.44.99.99.98h.03c.54 0 .98-.44.98-.98V7h2.02c.54 0 .98-.44.98-.98v-.04c0-.54-.44-.98-.98-.98zM16 9.01V8h-1.01c-.53 0-1.03-.21-1.41-.58-.37-.38-.58-.88-.58-1.44 0-.36.1-.69.27-.98H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8.28c-.3.17-.64.28-1.02.28-1.09-.01-1.98-.9-1.98-1.99zM15.96 19H6c-.41 0-.65-.47-.4-.8l1.98-2.63c.21-.28.62-.26.82.02L10 18l2.61-3.48c.2-.26.59-.27.79-.01l2.95 3.68c.26.33.03.81-.39.81z"/></svg></span>
                <input type="file" id="file-upload" class="file-input" name="avatar" accept="image/*">
              </label>
            </div>
          </div>
          <p class="std-name"><%=teacher.name%></p>
          <p class="std-reg-no"><%=teacher.username%></p>
          <input type="hidden" name="regnNo" value="<%=teacher.username%>" />
          <div class="std-details-1">
            <p><span>Position:</span><%=teacher.position%></p>
            <p><span>Department:</span> <%=teacher.department%></p>
            <p><span>Semester Coordinator:</span> <%=teacher.semesterco%></p>
            <p><span>Section Coordinator:</span> <%=teacher.sectionco%></p>
          </div>
          <div class="std-details-2">
            <p>
              <span>Chamber:</span>
              <input
                name="chamber"
                class="input-read"
                type="text"
                value="<%=teacherdata.chamber%>"
                readonly
              />
            </p>
            <p>
              <span>DOB:</span>
              <input
                name="DOB"
                class="input-read"
                type="text"
                value="<%=teacherdata.DOB%>"
                readonly
              />
            </p>
            <p>
              <span>Gender:</span>
              <select name="gender" class="input-read">
                <option value="<%=teacherdata.gender%>" disabled><%=teacherdata.gender%></option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
              </select>
            </p>
            <p>
              <span>Phone:</span>
              <input
                name="phoneNo"
                class="input-read"
                type="text"
                value="<%=teacherdata.phoneNo%>"
                readonly
              />
            </p>
            <p>
              <span>Whatsapp:</span>
              <input
                name="phoneNoWhatsapp"
                class="input-read"
                type="text"
                value="<%=teacherdata.phoneNoWhatsapp%>"
                readonly
              />
            </p>
            <p>
              <span>Official Email:</span>
              <input
                name="officialEmail"
                class="input-read"
                type="text"
                value="<%=teacherdata.officialEmail%>"
                readonly
              />
            </p>
            <div class="save-div"><input type="submit" class="btn btn-full btn-med" value="Save"></div>
          </div>
        </div>
      </section>
    </form>
      <section class="info-right">
      <div class="tabs-bar">
          <div id="tab-1" class="tab-item tb tab-border">
            <p class="hed-day">Subjects</p>
          </div>
          <div id="tab-2" class="tab-item tb">
            <p class="hed-day">TG Wards</p>
          </div>
      
      </div>
      <section class="tab-content">
          <!-- Tab Content 1 -->
          <div id="tab-1-content" class="tab-content-item show">
            <div class="tab1-cont">
            <%for(let i = 0; i<timetabledata.length; i++){%>
            <div class="cont-def sl slide">
              <div class="sbj-cd-name">
                <h2> <%=timetabledata[i].subjectcode.code%></h2>
                <p><%=timetabledata[i].subjectcode.name%></p>
              </div>
              <div class="sbj-info">
                <h1><span>Semester: </span>
                  <%=timetabledata[i].semester%>
                </h1>
                <h1><span>Department: </span>
                  <%=timetabledata[i].department%>
                </h1>
                <h1><span>Section: </span>
                  <%=timetabledata[i].section%>
                </h1>
              </div>
            </div>
            <%}%>
          </div>
          </div>
  
          <!-- Tab Content 2 -->
          <div id="tab-2-content" class="tab-content-item">
            <div class="tab2-cont">
              <div class="filter-wards">
                <select name="" id="filter-select">
                  <option value="Department">Department</option>
                  <option value="CSE">CSE</option>
                  <option value="IT">IT</option>
                </select>
                <select name="" id="filter-select">
                  <option value="Course">Course</option>
                  <option value="CSE">CSE</option>
                  <option value="IT">IT</option>
                </select>
                <select name="" id="filter-select">
                  <option value="Section">Semester</option>
                  <option value="CSE">CSE</option>
                  <option value="IT">IT</option>
                </select>
              </div>
              <div class="description">
                <div class="description__titles">
                    <ul>
                        <li>Sl.No</li>
                        <li>Name</li>
                        <li>Reg No</li>
                        <li>Email ID</li>
                        <li></li>
                    </ul>
                </div>
                <div class="description-scroll">
                    <div class="description__list">
                      <%console.log(tgdata)%>
                      <%for(let i = 0; i<tgdata.length; i++){%>
                        <ul>
                            <li><%=i+1%></li>
                            <li><%=tgdata[i].studentid.name%></li>
                            <li><%=tgdata[i].studentid.username%></li>
                            <li>srijan_202100423.smit.smu.edu.in</li>
                            <li><a class="view-pro btn btn-outline" href="#">View</a></li>
                        </ul>
                        <%}%>                  
                    </div>
                </div>
            </div>
            </div>
          </div>
  </section>
  
      </section>
    </main>
  </div>
</div>


<script src="<%= assetPath('js/profile.js') %>"></script>


<script>
  const tabItems = document.querySelectorAll('.tab-item');
const tabContentItems = document.querySelectorAll('.tab-content-item');

// Select tab content item
function selectItem(e) {
	// Remove all show and border classes
	removeBorder();
	removeShow();
	// Add border to current tab item
	this.classList.add('tab-border');
	this.classList.add('tab-item');
	// Grab content item from DOM
	const tabContentItem = document.querySelector(`#${this.id}-content`);
	// Add show class
	tabContentItem.classList.add('show');
}

// Remove bottom borders from all tab items
function removeBorder() {
	tabItems.forEach(item => {
		item.classList.remove('tab-border');
		item.classList.remove('tab-item');
	});
}

// Remove show class from all content items
function removeShow() {
	tabContentItems.forEach(item => {
		item.classList.remove('show');
	});
}

// Listen for tab item click
tabItems.forEach(item => {
	item.addEventListener('click', selectItem);
});

</script>