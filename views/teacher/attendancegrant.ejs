<link rel="stylesheet" href="<%= assetPath('css/teacher-attendence.css') %>" />

<div class="main-page">
  <div class="blur">
    <div class="page-heading">
      <a href="/admin/dashboard"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
          <path
            d="M381-100 44-436q-9-9-13.5-20.5T26-480q0-12 4.5-23.5T44-524l337-337q21-21 51-21.5t52 21.5q21 21 21 51.5T484-758L206-480l278 278q21 21 21.5 50.5T484-100q-21 21-51.5 21T381-100Z" />
        </svg></a>
      <h1 class="heading">Attendance Grant</h1>
    </div>
    <div class="main-table-container">
      <div class="description">
        <div class="description__titles">
          <ul>
            <li>S.No</li>
            <li>Subject</li>
            <li>Entered By</li>
            <li>Entered On</li>
            <li></li>
          </ul>
          <div class="add-grant" onclick="openPopup()"><svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 24 24" width="2.5vw" fill="#FFFFFF"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"/></svg></div>
        </div>
        <div class="description-scroll">
          <%for(let i = 0; i<assignmentgrant.length; i++){%>
          <div class="description__list">
            <ul>
              <li><%=i+1%></li>
              <li><%=assignmentgrant[i].subject%></li>
              <li><%=assignmentgrant[i].enteredby%></li>
              <li><%=String(assignmentgrant[i].updatedAt).substring(0,15)%></li>
              <li>
                <a href="<%=assignmentgrant[i].pdfpath%>" target="_blank" class="view-btn"> <svg xmlns="http://www.w3.org/2000/svg"viewBox="0 0 24 24" width="2vw" fill="#FFFFFF"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M14.59 2.59c-.38-.38-.89-.59-1.42-.59H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8.83c0-.53-.21-1.04-.59-1.41l-4.82-4.83zM15 18H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1zm0-4H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1zm-2-6V3.5L18.5 9H14c-.55 0-1-.45-1-1z"/></svg></a>
              </li>
            </ul>
          </div>
          <%}%>
        </div>
      </div>
    </div>
  </div>
  <div class="popup"></div>
  <div class="modal" id="modal">
    <form
      action="/teacher/attendancegrant/add"
      method="post"
      enctype="multipart/form-data"
    >
      <div class="top">
        <h3>Grant Attendance</h3>
        <button class="close" id="close" onclick="closePopup()">
          <svg
            width="30"
            height="30"
            viewBox="0 0 58 58"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1546_5783)">
              <path
                d="M38.4546 19.13C43.8882 24.351 44.0612 33.0201 38.8403 38.4538C33.6193 43.8874 24.9502 44.0604 19.5165 38.8395C14.0829 33.6185 13.9098 24.9494 19.1308 19.5157C24.3518 14.0821 33.0209 13.9091 38.4546 19.13ZM40.8218 16.6664C34.0184 10.1292 23.2043 10.345 16.6671 17.1485C10.13 23.9519 10.3458 34.766 17.1493 41.3031C23.9527 47.8403 34.7668 47.6245 41.3039 40.821C47.8411 34.0176 47.6253 23.2035 40.8218 16.6664ZM36.3284 33.671L31.401 28.9365L36.1355 24.0092L33.6718 21.6419L28.9373 26.5693L24.01 21.8348L21.6427 24.2985L26.5701 29.033L21.8356 33.9603L24.2992 36.3276L29.0338 31.4002L33.9611 36.1347L36.3284 33.671Z"
                fill="white"
              />
            </g>
            <defs>
              <clipPath id="clip0_1546_5783">
                <rect
                  width="41"
                  height="41"
                  fill="white"
                  transform="translate(28.4072) rotate(43.8565)"
                />
              </clipPath>
            </defs>
          </svg>
        </button>
      </div>
      <div class="bottom">
        <div class="row1">
     
      <div class="subject__title">
        <span>Subject : </span>
        <input type="text" name="subject" id="assignment-title" maxlength="50"/>
      </div>
     
        </div>
        <div class="row2">
          <div class="custom-file-upload">
            <label>
              <input
                id="select-file"
                type="file"
                name="file"
                required
              />
              <span id="file-name">Upload file here <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24"  viewBox="0 0 24 24" width="2vw" fill="#FFFFFF"><g><rect fill="none" height="24" width="24"/></g><g><path d="M16.59,9H15V4c0-0.55-0.45-1-1-1h-4C9.45,3,9,3.45,9,4v5H7.41c-0.89,0-1.34,1.08-0.71,1.71l4.59,4.59 c0.39,0.39,1.02,0.39,1.41,0l4.59-4.59C17.92,10.08,17.48,9,16.59,9z M5,19c0,0.55,0.45,1,1,1h12c0.55,0,1-0.45,1-1s-0.45-1-1-1H6 C5.45,18,5,18.45,5,19z"/></g></svg></span>
            </label>
            <span style="display: none" class="import-icon"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="#FFFFFF"
              >
                <path d="M0 0h24v24H0V0z" fill="none" />
                <path
                  d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"
                /></svg>
            </span>
          </div>
          <button class="save__btn btn btn-full btn-medium" id="save__btn" type="submit">Save</button>
        </div>
      </div>
  
  </div>
</div>


<script>
    const popup = document.querySelector(".popup");
  const modal = document.querySelector(".modal");
  function openPopup() {
      popup.style.display = "block";
      modal.style.display = "block";
  }
  function closePopup() {
      modal.style.display = "none";
      popup.style.display = "none";
  }

</script>


<script>
  let selectFile = document.getElementById("select-file");
let fileName = document.getElementById("file-name");
let importIcon = document.querySelector(".import-icon");
let submitBtn = document.querySelector("#submit-btn");

selectFile.addEventListener("change", function (e) {
    console.log(selectFile.files[0].name);
    fileName.innerHTML = (selectFile.files[0].name).slice(0,20)+"..";

})


selectFile.addEventListener("change", function() {
if (selectFile.files.length > 0) {
importIcon.style.display = "block";
submitBtn.style.opacity = "1";
}

});

importIcon.addEventListener("mousedown", function(e) {
e.preventDefault(); // Prevents the default behavior of the click event
selectFile.value = "";
fileName.innerHTML = "Upload file here";
importIcon.style.display = "none";
submitBtn.style.opacity = "0.4";
});




</script>